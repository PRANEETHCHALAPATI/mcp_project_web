{% extends 'base.html' %}

{% block title %}Dashboard - MCP Web App{% endblock %}

{% block content %}
<h2>Welcome, <span class="badge  bg-primary fs-5">{{ username }}</span>!</h2>
<p class>Letâ€™s generate your personalized learning path.</p>

<form method="post" action="/generate" id="generateForm">
  <div class="mb-3">
    <label for="goal" class="form-label">Your Learning Goal</label>
    <input type="text" name="goal" id="goal" class="form-control" placeholder="e.g. I want to learn AI basics in 5 days" required>
  </div>
  <button type="submit" class="btn btn-success">Generate Learning Path</button>
</form>

<!-- Loading overlay -->
<div id="loadingOverlay" style="display:none; position:fixed; top:0; left:0; width:100%; height:100%; background:#ffffffcc; z-index:9999; text-align:center;">
  <div class="spinner-border text-primary mt-5" role="status">
    <span class="visually-hidden">Loading...</span>
  </div>
  <h4 class="mt-3">Generating your path...</h4>
</div>

<script>
  document.getElementById("generateForm").addEventListener("submit", function () {
    document.getElementById("loadingOverlay").style.display = "block";
  });
</script>


<div class="mt-3">
  <a href="/config" class="btn btn-outline-secondary">Update API & Tool Config</a>
</div>
{% endblock %}
